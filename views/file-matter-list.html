<div class="container">
  <div class="block-header">
    <h2>home / file matters</h2>
  </div>
  <div class="card">
    <div class="card-header">
      <div class="row">
        <div class="col-md-8">
          <h2>File Matter List</h2>
        </div>
        <div class="col-md-4">
          <a ui-sref="file-matters.new" ng-if="vm.userInfo.priority.filematter.create" class="btn bgm-cyan pull-right"><i class="zmdi zmdi-plus"></i>&nbsp;&nbsp;New File Matter</a>
        </div>
      </div>
    </div>

    <div class="card-body">
      <div class="col-sm-5 p-l-25" ng-if="!vm.filter">
        <div class="input-group input-group-lg">
          <div class="fg-line">
            <input type="text" class="form-control" placeholder="Search" ng-model="vm.keyword" ng-change="vm.search()">
          </div>
          <span class="input-group-addon last" ng-click="vm.keyword=''"><i class="zmdi zmdi-close"></i></span>
          <span class="input-group-addon last"><i class="zmdi zmdi-search"></i></span>
        </div>
      </div>
      <div class="clearfix"></div>
      <div class="table-responsive table-div p-15">
        <table ng-table="vm.tableFilter" class="table table-striped table-vmiddle table-list">
          <tr ng-repeat="w in $data" ng-click="vm.clickHandler(w)">
            <td data-title="'System No'" sortable="'systemNo'" filter="vm.filter ? { 'systemNo': 'text' }: {}">
              {{ w.systemNo }}
            </td>
            <td data-title="'Manual No'" sortable="'manualNo'" filter="vm.filter ? { 'manualNo': 'text' }: {}">
              {{ w.manualNo }}
            </td>
            <td data-title="'Name'" sortable="'primaryClient.name'" class="ng-table-fixed-column-20" filter="vm.filter ? { 'primaryClient.name': 'text' }: {}">
              {{ w.primaryClient.name }}
            </td>
            <td data-title="'Phone'" sortable="'primaryClient.phoneMobile'" filter="vm.filter ? { 'primaryClient.phoneMobile': 'text' }: {}">
              {{ w.primaryClient.phoneMobile }}
            </td>
            <td data-title="'Category'" sortable="'matter.category'" filter="vm.filter ? { 'matter.category': 'text' }: {}">
              {{ w.matter.category }}
            </td>
            <td data-title="'Department'" sortable="'matter.department'" filter="vm.filter ? { 'matter.department': 'text' }: {}">
              {{ w.matter.department }}
            </td>
            <td data-title="'Description'" sortable="'matter.description'" class="ng-table-fixed-column-30" filter="vm.filter ? { 'matter.description': 'text' }: {}">
              {{ w.matter.description }}
            </td>
            <td data-title="'Preset Bill'" sortable="'presetBill.strDescription'" filter="vm.filter ? { 'presetBill.strDescription': 'text' }: {}">
              {{ w.presetBill.strDescription }}
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="myModalContent.html">
  <div class="modal-header">
    <h4 class="modal-title">Delete a file matter</h4>
  </div>
  <div class="modal-body">
    <p>Are you sure to delete the file matter?</p>
  </div>
  <div class="modal-footer">
    <button class="btn btn-link" ng-click="ok()">OK</button>
    <button class="btn btn-link" ng-click="cancel()">Cancel</button>
  </div>
</script>
