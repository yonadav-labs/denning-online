<div class="container">
  <div class="block-header">
    <h2>home / bank branches</h2>
  </div>
  <div class="card">
    <div class="card-header">
      <div class="row">
        <div class="col-md-8">
          <h2>Bank Branch List</h2>
        </div>
        <div class="col-md-4">
          <a ui-sref="bank-branches.new" class="btn bgm-cyan pull-right"><i class="zmdi zmdi-plus"></i>&nbsp;&nbsp;New Bank Branch</a>
        </div>
      </div>
    </div>

    <div class="card-body">
      <div class="table-responsive table-div" ng-if="vm.dataReady"> 
        <table ng-table="vm.tableFilter" class="table table-striped table-vmiddle table-list" show-filter="true">
          <tr ng-repeat="w in $data" ng-click="vm.clickHandler(w)">
            <td data-title="'Bank Name'" filter="{ 'HQ.name': 'text' }" sortable="'HQ.name'">
              {{ w.HQ.name }}
            </td>
            <td data-title="'Branch Code'" filter="{ 'name': 'text' }" sortable="'name'">
              {{ w.name }}
            </td>
            <td data-title="'Address'" filter="{ 'address.fullAddress': 'text' }" sortable="'address.fullAddress'">
              {{ w.address.fullAddress }}
            </td>
            <td data-title="'Phone Mobile'" filter="{ 'phoneMobile': 'text' }" sortable="'phoneMobile'">
              {{ w.phoneMobile }}
            </td>
            <td data-title="'Phone Home'" filter="{ 'phoneHome': 'text' }" sortable="'phoneHome'">
              {{ w.phoneHome }}
            </td>
            <td data-title="'Fax'" filter="{ 'phoneFax': 'text' }" sortable="'phoneFax'">
              {{ w.phoneFax }}
            </td>
            <td data-title="'Email'" filter="{ 'emailAddress': 'text' }" sortable="'emailAddress'">
              {{ w.emailAddress }}
            </td>            
            <td data-title="'Actions'">
              <a class="btn btn-primary" ng-if="vm.userInfo.priority.contact.read"  ui-sref="bank-branches.edit({id:w.code})"><i class="zmdi zmdi-edit"></i></a>
              <a class="btn btn-warning" ng-click="vm.openDelete($event, w)" ng-if="vm.userInfo.priority.contact.delete"><i class="zmdi zmdi-delete"></i></a>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="myModalContent.html">
  <div class="modal-header">
    <h4 class="modal-title">Delete a contract</h4>
  </div>
  <div class="modal-body">
    <p>Are you sure to delete the contract?</p>
  </div>
  <div class="modal-footer">
    <button class="btn btn-link" ng-click="ok()">OK</button>
    <button class="btn btn-link" ng-click="cancel()">Cancel</button>
  </div>
</script>
