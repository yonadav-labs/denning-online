<div ng-class="vm.isDialog ? '' : 'container'">

    <div class="card">
        <div class="card-header" style="display: flex;">
            <div class="col-md-10 no-padding" ng-if="!vm.viewMode">
                <h2 style="display: inline;" ng-if="!vm.viewMode">Contact Edit</h2>
                <h2 style="display: inline;" ng-if="vm.viewMode">Contact Detail</h2>
                <a class="btn btn-link btn-sm pull-right m-l-10" ng-click="vm.cancel()" >Cancel</a>
                <a class="btn btn-danger btn-sm pull-right m-l-10" type="submit" ng-click="vm.openDelete($event, vm.contact)" ng-if="vm.userInfo.priority.contact.delete">Delete</a>
                <a class="btn btn-primary btn-sm pull-right m-l-10" type="submit" ng-click="vm.save()" ng-if="vm.userInfo.priority.contact.update && vm.can_edit">Save</a>
                <a class="btn bgm-cyan btn-sm pull-right" type="submit" ng-click="vm.can_edit=true;" ng-if="vm.userInfo.priority.contact.update && !vm.can_edit"><i class="zmdi zmdi-edit"></i>&nbsp;&nbsp;Edit</a>   
            </div>
            <div class="col-md-10" ng-if="vm.viewMode">
                <div class="m-t-30">
                    <a class="btn btn-default btn-sm pull-right m-l-10" ng-click="vm.cancel()" >Close</a>
                </div>        
            </div>
        </div>
                
        <div class="card-body card-padding">
            <div class="clearfix"></div>

            <h4>Personal Information</h4>
            <div class="row">
                <div class="col-md-6 p-l-25">
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">ID Type</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' class="form-control" ng-readonly="!vm.can_edit" ng-model="vm.contact.idType.code" placeholder="New IC">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">ID No</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.IDNo" placeholder="UA203453">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Old IC</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.old_ic" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Full Name</dt>
                        <dd>
                            <div class="fg-line">
                                <input ng-model="vm.contact.name" ng-readonly="!vm.can_edit" type="text" class="form-control" placeholder="eg. Mallinda Hollaway">
                            </div>

                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Title</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.title" placeholder="Mr.
                                ">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Citizenship</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.citizenship" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Date of Birth</dt>
                        <dd>
                            <div class="fg-line">
                                <input ng-model="vm.contact.dateBirth" ng-readonly="!vm.can_edit" type="text" class="form-control" placeholder="">
                            </div>
                        </dd>
                    </dl>
                </div>
                <div class="col-md-6 p-l-25">
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Marital Status</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.marital_status" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">No. of Children</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.num_children" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Occupation</dt>
                        <dd>
                            <div class="fg-line">
                                <input ng-model="vm.contact.occupation" ng-readonly="!vm.can_edit" type="text" class="form-control" placeholder="">
                            </div>

                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Tax File No.</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.taxFileNo" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">IRD Branch</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.IRD_branch" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Customer Type</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.customer_type" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Government Department</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.government_department" placeholder="">
                            </div>
                        </dd>
                    </dl>
                </div>                
            </div>

            <div class="clearfix"></div>

            <h4 class="m-t-25">Contact Information</h4>
            <div class="row">
                <div class="col-md-6 p-l-25">
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Address (Line 1)</dt>
                        <dd>
                            <div class="fg-line">
                                <input ng-model="vm.contact.address.line1" ng-readonly="!vm.can_edit" type="text" class="form-control" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Address (Line 2)</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.address.line2" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Address (Line 3)</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.address.line3" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Postcode</dt>
                        <dd>
                            <div class="fg-line">
                                <input ng-model="vm.contact.address.postcode" ng-readonly="!vm.can_edit" type="text" class="form-control" placeholder="">
                            </div>

                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Town</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.address.city" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">State</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.address.state" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Country</dt>
                        <dd>
                            <div class="fg-line">
                                <input ng-model="vm.contact.address.country" ng-readonly="!vm.can_edit" type="text" class="form-control" placeholder="">
                            </div>
                        </dd>
                    </dl>
                </div>
                <div class="col-md-6 p-l-25">
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Phone Home</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.phoneHome" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Phone Mobile</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.phoneMobile" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Phone Office</dt>
                        <dd>
                            <div class="fg-line">
                                <input ng-model="vm.contact.phoneOffice" ng-readonly="!vm.can_edit" type="text" class="form-control" placeholder="">
                            </div>

                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Fax</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.phoneFax" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Email</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.emailAddress" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Website</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.webSite" placeholder="">
                            </div>
                        </dd>
                    </dl>

                </div>                
            </div>            
            <div class="clearfix"></div>

            <h4 class="m-t-25" ng-click="vm.showGST=!vm.showGST">GST Information&nbsp;&nbsp;&nbsp;&nbsp;<i class="zmdi zmdi-plus" ng-if="!vm.showGST"></i><i class="zmdi zmdi-minus" ng-if="vm.showGST"></i></h4>
            <div class="row" ng-show="vm.showGST">
                <div class="col-md-6 p-l-25">
                    <dl class="dl-horizontal">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-readonly="!vm.can_edit" ng-model="vm.contact.GST_status_verified">
                                <i class="input-helper"></i>
                                GST Status Verified
                            </label>
                        </div>
                    </dl>
                    <dl class="dl-horizontal">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-readonly="!vm.can_edit" ng-model="vm.contact.GST_registered">
                                <i class="input-helper"></i>
                                GST Registered
                            </label>
                        </div>
                    </dl>                    
                </div>
                <div class="col-md-6 p-l-25">
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Last GST Status Verified Date</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.last_GST_status_verified_date" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">GST Reg. No.</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.GST_reg_no" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">RMCD Approval No.</dt>
                        <dd>
                            <div class="fg-line">
                                <input ng-model="vm.contact.RMCD_approval_no" ng-readonly="!vm.can_edit" type="text" class="form-control" placeholder="">
                            </div>
                        </dd>
                    </dl>
                </div>                
            </div>   
            <div class="clearfix"></div>

            <h4 class="m-t-25" ng-click="vm.showCompany=!vm.showCompany">Company Information&nbsp;&nbsp;&nbsp;&nbsp;<i class="zmdi zmdi-plus" ng-if="!vm.showCompany"></i><i class="zmdi zmdi-minus" ng-if="vm.showCompany"></i></h4>
            <div class="row" ng-show="vm.showCompany">
                <div class="col-md-6 p-l-25">
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Office Address</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.office_address" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Director 1</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.director1" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Director 2</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.director2" placeholder="">
                            </div>
                        </dd>
                    </dl>
             
                </div>
                <div class="col-md-6 p-l-25">
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Secretray</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.secretary" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    <dl class="dl-horizontal">
                        <dt class="p-t-10">Contact Person</dt>
                        <dd>
                            <div class="fg-line">
                                <input type='text' ng-readonly="!vm.can_edit" class="form-control" ng-model="vm.contact.contact_person" placeholder="">
                            </div>
                        </dd>
                    </dl>
                    
                </div>                
            </div>          
            <div class="row">     
                <div class="col-md-10 no-padding" ng-if="!vm.viewMode">
                    <div class="m-t-30">
                        <a class="btn btn-link btn-sm pull-right m-l-10" ng-click="vm.cancel()" >Cancel</a>
                        <a class="btn btn-danger btn-sm pull-right m-l-10" type="submit" ng-click="vm.openDelete($event, vm.contact)" ng-if="vm.userInfo.priority.contact.delete">Delete</a>
                        <a class="btn btn-primary btn-sm pull-right m-l-10" type="submit" ng-click="vm.save()" ng-if="vm.userInfo.priority.contact.update && vm.can_edit">Save</a>
                        <a class="btn bgm-cyan btn-sm pull-right" type="submit" ng-click="vm.can_edit=true;" ng-if="vm.userInfo.priority.contact.update && !vm.can_edit"><i class="zmdi zmdi-edit"></i>&nbsp;&nbsp;Edit</a>
                    </div>        
                </div>
                <div class="col-md-10" ng-if="vm.viewMode">
                    <div class="m-t-30">
                        <a class="btn btn-default btn-sm pull-right m-l-10" ng-click="vm.cancel()" >Close</a>
                    </div>        
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-header">
        <h4 class="modal-title">Delete a contract</h4>
    </div>
    <div class="modal-body">
        <p>Are you sure to delete the contract?</p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-link" ng-click="ok()">OK</button>
        <button class="btn btn-link" ng-click="cancel()">Cancel</button>
    </div>
</script>
