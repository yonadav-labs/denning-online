<div class="container">
  <div class="card">
  <div class="card-body card-padding">
    <h2>Form JSON</h2>
    <div class="form-group" style="border: 2px solid lightgrey;">
      <textarea class="form-control" rows="25" placeholder="Form JSON here..." ng-model="vm.textAreaModel"></textarea>
    </div>

    <h2>Preview</h2>
    <div class="preview">
    <section layout="row" layout-sm="column" layout-align="start center" layout-wrap style="margin-left: -8px;">
      <div class="col-sm-12 col-md-10 m-b-25">
      <md-button class="btn-sm md-raised md-warn" style="min-height: 0;" ng-click="vm.openFolder()">Folder</md-button>
      <md-button class="btn-sm md-raised md-warn" style="min-height: 0;" ng-click="vm.accounts()">Accounts</md-button>
      <md-button class="btn-sm md-raised md-warn" style="min-height: 0;" ng-click="vm.notes()">Notes</md-button>
      <md-button class="btn-sm md-raised md-warn" style="min-height: 0;" ng-click="vm.payments()">Payments</md-button>
      <md-button class="btn-sm md-raised md-warn" style="min-height: 0;" ng-click="vm.upload()">Upload</md-button>
      <input type="file" class="hidden" ng-class="'matter-upload'" multiple ng-model="file" base-sixty-four-input onload="vm.onLoad">
      <md-button class="btn-sm md-raised md-warn" style="min-height: 0;" data-ui-sref="courtdiary">Calendar</md-button>
      <md-button class="btn-sm md-raised md-warn" style="min-height: 0;">Checklist</md-button>
      <md-button class="btn-sm md-raised md-warn" style="min-height: 0;">Tasks</md-button>
      </div>
    </section>
    <form ng-submit="vm.onSubmit()" name="vm.form" novalidate>
      <formly-form model="vm.model" fields="vm.fields" options="vm.options" form="vm.form">      
      </formly-form>
    </form>    

    <form ng-submit="vm.onSubmit()" name="vm.form" novalidate>
      <uib-tabset>
      <uib-tab ng-repeat="tab in vm.tabs" heading="{{tab.label}}">
        <div ng-repeat="group in tab.groups" class="col-lg-9 no-padding">  
        <div class="group">
          <div class="form-group">
          <input id="{{group.key}}-label" name="{{group.key}}-label" class="form-control group-label" ng-model="vm.model[group.key+'-label']" ng-value="group.label" />
          </div>
          <formly-form model="vm.model" fields="group.attrs" form="vm.form" options="group.options">
          </formly-form>
        </div>
        </div>
      </tab>
      </tabset>
<!--         <button type="submit" class="btn btn-primary submit-button" ng-disabled="vm.form.$invalid">Submit</button>
      <button type="button" class="btn btn-default" ng-click="vm.resetAllForms()">Reset</button> -->
    </form>
    </div>
    <h2>Form Data</h2>
    <pre>{{ vm.model | json }}</pre>
  </div>
  </div>
</div>  

<!-- Put custom templates here -->
<script type="text/ng-template" id="datepicker.html">
  <p class="input-group">
  <input  type="text"
      id="{{::id}}"
      name="{{::id}}"
      ng-model="model[options.key]"
      class="form-control"
      ng-click="datepicker.open($event)"
      is-open="datepicker.opened"
      datepicker-options="to.datepickerOptions" />
  <span class="input-group-btn">
    <button type="button" class="btn btn-default" ng-click="datepicker.open($event)" ng-disabled="to.disabled">
    <i class="glyphicon glyphicon-calendar"></i>
    </button>
  </span>
  </p>
</script>

<!-- CONTACT GROUP -->
<script type="text/ng-template" id="contact.html">  
  <div class="form-group col-md-12" ng-repeat="party in model[options.key]" ng-if="to.party">
  <div style="display: flex;">
    <label for="{{::id}}_party_{{$index}}" class="form-control attr-label short-label">{{ $index+1 }}</label>

    <md-autocomplete
      md-selected-item="party.party"
      md-search-text="searchText"
      md-items="item in queryContacts(searchText)"
      md-item-text="item.name ? item.name+' ( '+item.IDNo+' )': ' '"
      md-min-length="1"
      md-autoselect="false"
      class="default-input"
      style="width:72%">
    <md-item-template>
      <span md-highlight-text="searchText" class="col-1" md-highlight-flags="i">{{item.name}}</span>
      <span md-highlight-text="searchText" md-highlight-flags="i">{{item.IDNo}}</span>
    </md-item-template>
    </md-autocomplete>

    <a class="btn btn-primary short-btn bgm-lightgreen" ng-click="contactDialog(party, false)">
      <span class="glyphicon glyphicon-plus" aria-hidden="true" title="Create a new party and choose it"></span>
    </a>
    <a class="btn btn-primary short-btn" ng-click="viewContact(party)">
      <span class="glyphicon glyphicon-eye-open" aria-hidden="true" title="See detail of party"></span>
    </a>
    <input id="{{::id}}_share_{{$index}}" name="{{::id}}_share_{{$index}}" class="form-control" ng-model="party.share" ng-if="to.share" style="width: 15%;" placeholder="Share" />
    <a class="btn btn-danger short-btn" ng-click="removeParty($index)">
      <span class="glyphicon glyphicon-trash" aria-hidden="true" title="Remove this party from group"></span>
    </a>
  </div>
  </div>
  <div style="margin-bottom: 30px;" ng-if="to.party">
  <a class="btn btn-primary short-btn" style="margin-left: 50px;" ng-click="addParty()" title="Add a new party to group"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp;&nbsp;Add a new party</a>  
  </div>
  <div ng-if="to.solicitor">
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Solicitor</label>
    <md-autocomplete
      md-selected-item="model[options.key+'_solicitor'].party"
      md-search-text="q_lf"
      md-items="item in queryLFs(q_lf)"
      md-item-text="item.name ? item.name+' ( '+item.code+' )': ' '"
      md-min-length="1"
      md-autoselect="false"
      class="default-input"
      style="width:45%">
      <md-item-template>
      <span md-highlight-text="q_lf" class="col-1" md-highlight-flags="i">{{item.name}}</span>
      <span md-highlight-text="q_lf" md-highlight-flags="i">{{item.code}}</span>
      </md-item-template>
    </md-autocomplete>
    <a class="btn btn-primary short-btn bgm-lightgreen" ng-click="legalfirmDialog(model[options.key+'_solicitor'], false)"><span class="glyphicon glyphicon-plus" aria-hidden="true" title="Create a new legal firm and choose it"></span></a>
    <a class="btn btn-primary short-btn" ng-click="viewLegalFirm(model[options.key+'_solicitor'])" title="See detail of solicitor"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></a>
    <div class="checkbox" style="margin: 6px 0 6px 18px;">
      <label>
        <input type="checkbox" ng-model="represent_this" ng-click="representChange()">
        <i class="input-helper"></i>
        Representing this party
      </label>
    </div>
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Firm Tel / Fax / Email</label>
    <input type="text" class="form-control" readonly="true" ng-model="model[options.key+'_solicitor'].party.phoneHome" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Firm Location</label>
    <input type="text" class="form-control" readonly="true" ng-model="model[options.key+'_solicitor'].party.address.fullAddress" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Staff in Charge</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_staff']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Solicitor Ref.</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  </div>
</script>

<!-- PROPERTY GROUP -->
<script type="text/ng-template" id="property.html">  
  <div class="form-group col-md-12" ng-repeat="property in model[options.key]" ng-if="to.property">
  <div style="display: flex;">
    <label for="{{::id}}_party_{{$index}}" class="form-control attr-label short-label">{{ $index+1 }}</label>

    <md-autocomplete
      md-selected-item="property.property"
      md-search-text="searchText"
      md-items="item in queryProperties(searchText)"
      md-item-text="item.fullTitle"
      md-min-length="1"
      md-autoselect="false"
      class="default-input"
      style="width:72%">
    <md-item-template>
      <span md-highlight-text="searchText" class="col-1" md-highlight-flags="i">{{item.code}}</span>
      <span md-highlight-text="searchText" md-highlight-flags="i">{{item.fullTitle}}</span>
    </md-item-template>
    </md-autocomplete>

    <a class="btn btn-primary short-btn bgm-lightgreen" ng-click="propertyDialog(property, false)">
      <span class="glyphicon glyphicon-plus" aria-hidden="true" title="Create a new property and choose it"></span>
    </a>
    <a class="btn btn-primary short-btn" ng-click="viewProperty(property)">
      <span class="glyphicon glyphicon-eye-open" aria-hidden="true" title="See detail of property"></span>
    </a>
    <input id="{{::id}}_share_{{$index}}" name="{{::id}}_share_{{$index}}" class="form-control" ng-model="property.share" ng-if="to.share" style="width: 15%;" placeholder="Share" />
    <a class="btn btn-danger short-btn" ng-click="removeParty($index)">
      <span class="glyphicon glyphicon-trash" aria-hidden="true" title="Remove this property from group"></span>
    </a>
  </div>
  </div>
  <div style="margin-bottom: 30px;" ng-if="to.property">
  <a class="btn btn-primary short-btn" style="margin-left: 50px;" ng-click="addProperty()" title="Add a new property to group"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp;&nbsp;Add a new property</a>  
  </div>
  <div class="form-group">
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Address</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_address']">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">{{ model[options.key][0].propertyType.type }}</label>
    <label class="form-control attr-label">{{ model[options.key][0].titleIssued }}</label>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Area</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_term_loan_amount']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Category of Land Use</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_repayment_period']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Tenure</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_do_loan_amount']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Express Condition</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_interest_rate_tl']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Lease Expiry Date</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="text" ng-model="model[options.key+'_MRTA']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group1 col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Building Type</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_monthly_installment']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
  <div class="form-group1 col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">NO Restriction In Interest</label>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Annual Quit Rent</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_interest_rate_do']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>     
  <div class="form-group1 col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Restriction Against</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="text" ng-model="model[options.key+'_other']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Assessment Rate</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_islamic_loan']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>     
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Approving Authority</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_total_loan']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>      
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Previous Title</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_selling_price']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>      
  <div class="form-group col-sm-10">
    <div class="radio col-sm-4">
      <label>
        <input type="radio" name="propertyType" value="0" ng-model="vm.property.propertyType.code">
        <i class="input-helper"></i>
        ( Price / Area )
      </label>
    </div>
    <div class="radio col-sm-4">
      <label>
        <input type="radio" name="propertyType" value="1" ng-model="vm.property.propertyType.code">
        <i class="input-helper"></i>
        Fixed Adjustment Rate
      </label>
    </div>
    <div class="radio col-sm-4">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_selling_price']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>      
  </div>  
</script>

<!-- FILE INFORMATION -->
<script type="text/ng-template" id="file.html">  
  <div class="form-group col-md-12" ng-repeat="party in model[options.key]" ng-if="to.party">
  <div style="display: flex;">
    <label for="{{::id}}_party_{{$index}}" class="form-control attr-label">
    Primary Client {{ $index+1 }}
    </label>

    <md-autocomplete
      md-selected-item="party.party"
      md-search-text="searchText"
      md-items="item in queryContacts(searchText)"
      md-item-text="item.name+' ( '+item.IDNo+' )'"
      md-min-length="1"
      md-autoselect="false"
      class="default-input"
      style="width:72%">
    <md-item-template>
      <span md-highlight-text="searchText" class="col-1" md-highlight-flags="i">{{item.name}}</span>
      <span md-highlight-text="searchText" md-highlight-flags="i">{{item.IDNo}}</span>
    </md-item-template>
    </md-autocomplete>

    <a class="btn btn-primary short-btn bgm-lightgreen" ng-click="contactDialog(party, false)">
    <span class="glyphicon glyphicon-plus" aria-hidden="true" title="Create a new party and choose it"></span>
    </a>
    <a class="btn btn-primary short-btn" target="_new" ng-click="viewContact(party)">
    <span class="glyphicon glyphicon-eye-open" aria-hidden="true" title="See detail of party"></span>
    </a>
    <input id="{{::id}}_share_{{$index}}" name="{{::id}}_share_{{$index}}" class="form-control" ng-model="party.share" ng-if="to.share" style="width: 15%;" placeholder="Share" />
    <a class="btn btn-danger short-btn" ng-click="removeParty($index)">
    <span class="glyphicon glyphicon-trash" aria-hidden="true" title="Remove this party from group"></span>
    </a>
  </div>
  </div>
  <div style="margin-bottom: 30px;" ng-if="to.party">
  <a class="btn btn-primary short-btn" style="margin-left: 50px;" ng-click="addParty()" title="Add a new client to group">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
    &nbsp;&nbsp;Add a new client
  </a>
  </div>
  <div ng-if="to.solicitor">
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Ref 2 (Manual)</label>
    <select class="form-control" ng-model="model[options.key+'_solicitor']" style="width:45%;">
      <option ng-repeat="item in legalFirms" ng-value="item" ng-selected="model[options.key+'_solicitor'].code == item.code">
      {{item.name}}
      </option>
    </select>
    <a class="btn btn-primary short-btn" target="_new" ui-sref="legal-firms.edit({id: model[options.key+'_solicitor'].code})" title="See detail of solicitor">
      <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
    </a>
    <div class="checkbox" style="margin: 6px 0 6px 18px;">
      <label>
      <input type="checkbox" ng-model="represent_this" ng-click="representChange()">
      <i class="input-helper"></i>
      Representing this party
      </label>
    </div>
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Matter Type</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor'].phoneHome" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Category</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor'].address.fullAddress" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Department</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_staff']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Checklist</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Billing Code</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="clearfix"></div>
  <hr>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">File Open Date</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Turnaround</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Status</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="clearfix"></div>
  <hr>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Partner in charge</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">L.A in charge</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Clerk in charge</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="clearfix"></div>
  <hr>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Pocket Location</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Physical File Location</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">File Box Location</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="clearfix"></div>
  <hr>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Related Matter</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>  
  </div>
</script>

<script type="text/ng-template" id="case.html">
  <div class="form-group">
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Court</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_court']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Place</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_place']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Court No.</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_court_no']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Case Type</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_case_type']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Case No.</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_case_no']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Party Type</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_party_type']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">SAR</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_SAR']" style="width:45%;">
    </div>
  </div>  
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Judge</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_judge']" style="width:45%;">
    </div>
  </div>  
  </div>
</script>

<script type="text/ng-template" id="price.html">
  <div class="form-group">
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Purchase Price</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Earnest Deposit</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Balance Deposit</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Total Deposit</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Balance Purchase Price</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="clearfix"></div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">GST</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">GST Price Value</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>  
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Purchase Price</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>  
  <div class="clearfix"></div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Court A</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Court B</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>  
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Court C</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_solicitor_ref']" style="width:45%;">
    </div>
  </div>  
  </div>
</script>

<script type="text/ng-template" id="loan.html">
  <div class="form-group">
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Type of Loan</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_loan_type']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-12">
    <div style="display: flex;">
    <label class="form-control attr-label">Type of Finacing</label>
    <input type="text" class="form-control" ng-model="model[options.key+'_fiancing_type']" style="width:45%;">
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Term Loan Amount</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_term_loan_amount']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Repayment Period (TL)</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_repayment_period']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">DO Loan Amount</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_do_loan_amount']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Interest Rate (TL)</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_interest_rate_tl']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1"><i class="zmdi zmdi-plus"></i>&nbsp;&nbsp;MRTA</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="text" ng-model="model[options.key+'_MRTA']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group1 col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Monthly Installment (TL)</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_monthly_installment']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
  <div class="form-group1 col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1"><i class="zmdi zmdi-plus"></i>&nbsp;&nbsp;Legal Fee</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_legal_fee']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Interest Rate (DO)</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_interest_rate_do']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>     
  <div class="form-group1 col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1"><i class="zmdi zmdi-plus"></i>&nbsp;&nbsp;Other</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="text" ng-model="model[options.key+'_other']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Islamic Loan</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_islamic_loan']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>     
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Total Loan</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_total_loan']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>      
  <div class="form-group col-md-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Selling Price</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_selling_price']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>      
  <div class="form-group col-md-6 col-md-offset-6">
    <label for="inputEmail3" class="col-sm-4 attr-label-1">Purchase Price</label>
    <div class="col-sm-8">
      <div class="fg-line">
        <input type="number" ng-model="model[options.key+'_purchase_price']" class="form-control input-sm" id="inputEmail3">
      </div>
    </div>
  </div>      
  </div>
</script>

<!-- GENERATE DOCUMENT GROUP -->
<script type="text/ng-template" id="gen-doc.html">
  <div class="form-group">
  <div style="display: flex; margin-bottom: 20px;">
    <label class="form-control attr-label-v1">Category</label>
    <select class="form-control" ng-model="model[options.key+'_category']" ng-change="updateType()" style="width:40%;">
    <option ng-repeat="item in categories" ng-value="item">{{item}}</option>
    </select>
    <label class="form-control attr-label-v1">Type</label>
    <select class="form-control" ng-model="model[options.key+'_type']" ng-change="updateTemplates()" style="width:65%;">
    <option ng-repeat="item in types" ng-value="item.strTypeCode">{{item.strTypeCode}}&nbsp;&nbsp;&nbsp;{{item.strTypeName}}</option>
    </select>
    <label class="form-control attr-label-v1">Source</label>
    <select class="form-control" ng-model="model[options.key+'_source']" ng-change="updateTemplates()" style="width:40%; margin-right: 20px;">
    <option ng-repeat="item in sources" ng-value="item">{{item}}</option>
    </select>
  </div>
  <div class="table-responsive"> 
    <table ng-table="tableFilter" class="table table-striped table-vmiddle" show-filter="true">
    <tr ng-repeat="w in $data">
      <td data-title="'Code'" filter="{ 'code': 'text' }" sortable="'code'">
        {{ w.code }}
      </td>
      <td data-title="'Created At'" filter="{ 'dtCreatedDate': 'text' }" sortable="'dtCreatedDate'">
        {{ w.dtCreatedDate }}
      </td>
      <td data-title="'Description'" filter="{ 'strDescription': 'text' }" sortable="'strDescription'">
        {{ w.strDescription }}
      </td>
      <td data-title="'Version'" filter="{ 'intVersionID': 'text' }" sortable="'intVersionID'">
        {{ w.intVersionID }}
      </td>
      <td data-title="'Lang'" filter="{ 'strLangauge': 'text' }" sortable="'strLangauge'">
        {{ w.strLangauge }}
      </td>
      <td data-title="'Source'" filter="{ 'strSource': 'text' }" sortable="'strSource'">
        {{ w.strSource }}
      </td>
    </tr>
    </table>
  </div>  
  <div class="button-group">
    <a class="btn btn-primary btn-sm pull-right" type="submit" ng-click="vm.save()">Upload</a>
    <a class="btn btn-primary btn-sm pull-right" type="submit" ng-click="vm.save()">Customize</a>
    <a class="btn btn-primary btn-sm pull-right" type="submit" ng-click="vm.save()">Generate</a>
  </div>
  </div>
</script>

<script type="text/ng-template" id="legalFirm.html">
  <div class="form-group">
  <div style="display: flex;">
  <input id="{{::id}}-label" name="{{::id}}-label" class="form-control attr-label" ng-model="model[options.key+'-label']" ng-value="options.templateOptions.label" />    
  <select class="form-control" ng-model="model[options.key]" style="width:300px;">
    <option ng-repeat="item in legalFirms" ng-value="item.id">{{item.name}}</option>
  </select>
  <a class="btn btn-primary short-btn"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></a>
  </div>
  </div>
  <div class="clear-fix"></div> 
</script>

<script type="text/ng-template" id="text.html">
  <div class="form-group">
  <div style="display: flex;">
    <input id="{{::id}}-label" name="{{::id}}-label" class="form-control attr-label" ng-model="model[options.key+'-label']" ng-value="options.templateOptions.label" />    
    <input type="text" class="form-control" ng-model="model[options.key]" style="width:300px;">
  </div>
  </div>
</script>

<script type="text/ng-template" id="price_w_currency.html">
  <div class="form-group">
  <input id="{{::id}}-label" name="{{::id}}-label" class="form-control attr-label col-sm-1" ng-model="model[options.key+'-label']" ng-value="options.templateOptions.label" />
  <div style="display: flex;">
  <select class="form-control col-sm-2" ng-model="model[options.key+'-currency']" style="width:60px;">
    <option value="USD">USD</option>
    <option value="RM">RM</option>
    <option value="RMB">RMB</option>
  </select>
  <input id="{{::id}}" name="{{::id}}" class="col-sm-6" ng-model="model[options.key]" />
  </div>
  </div>
</script>

<script type="text/ng-template" id="group_label.html">
  <div class="form-group">
  <input id="{{::id}}" name="{{::id}}" class="form-control group-label" ng-model="model[options.key]" />
  </div>
</script>

<script type="text/ng-template" id="example-directive.html">
  <div class="form-group">
  <label for="{{::id}}">{{options.templateOptions.label}}</label>
  <input id="{{::id}}" name="{{::id}}" class="form-control" ng-model="model[options.key]" />
  </div>
</script>

